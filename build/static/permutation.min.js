window.permutation=function(){return{global:window,keypress:keymage}}(),permutation.control=function(){function t(){return u.runEditor(a,e,r,o,i)}function e(t,e,n){return u.evaluate(t,e,n)}function n(){return u.clearEditor(a)}function r(t){return u.logInput(c,t)}function o(t){return u.logResult(c,t)}function i(t){return u.logError(c,t)}var u=permutation,a=u.makeEditor(u.makeTextbox("editor")),c=u.makeLogger(u.makeTextbox("logger"));return u.keypress("ctrl-alt-enter",function(){t()}),u.keypress("ctrl-alt-backspace",function(){n()}),u.keypress("ctrl-shift-backspace",function(){n()}),u.keypress("ctrl-shift-enter",function(){t(),n()}),u.init(),{editor:a,logger:c}},function(){function t(t){return t}function e(t,e,n,r,o){var i=t.getValue();n(i),e(i,r,o)}function n(t){t.setValue("")}permutation.makeEditor=t,permutation.runEditor=e,permutation.clearEditor=n}(),function(){function evaluate(input,succeed,fail){succeed=succeed||noop,fail=fail||thrower;try{succeed(eval(input))}catch(e){fail(e)}}function noop(){}function thrower(t){throw t}permutation.evaluate=evaluate}(),function(){function t(t,e){for(var n in e)e.hasOwnProperty(n)&&(n in t||(t[n]=e[n]))}permutation.extend=t}(),permutation.init=function(){function t(){var t=i();return vv(t)(u)(a)(s,n,r)(l)(c)(s,f),t}var e=permutation.extend,n=warped.deepMap,r=warped.run,o=wires.sampler,i=sig.val,u=sig.ensure,a=sig.update,c=sig.flatten,s=sig.map,f=wires.out,l=museq.seq;window.samples={c:o("/static/c.wav"),h:o("/static/h.wav"),k:o("/static/k.wav"),s:o("/static/s.wav"),t:o("/static/t.wav")},window.s1=t(),window.s2=t(),window.s3=t(),window.s4=t(),window.s5=t(),window.s6=t(),[sig,wires,museq,warped].forEach(function(t){e(window,t)})},function(){function t(t){return t.setReadOnly(!0),t.renderer.setShowGutter(!1),t}function e(t,e){var n=t.getValue();e=n.length?[n,e].join("\n"):e,t.setValue(e),t.clearSelection()}function n(t,n){e(t,r(n)+"\n")}function r(t){return["/*",t,"*/"].join("\n")}function o(t,n){e(t,n)}function i(t,e){n(t,e)}function u(t,e){n(t,e.stack)}permutation.makeLogger=t,permutation.logInput=o,permutation.logResult=i,permutation.logError=u}(),function(){function t(t){var e=ace.edit(t),n=e.getSession();return e.setShowPrintMargin(!1),e.setTheme("ace/theme/monokai"),n.setUseWorker(!1),n.setMode("ace/mode/javascript"),e}permutation.makeTextbox=t}();